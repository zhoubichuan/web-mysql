<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>字符函数</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="个人总结的vuepress学习技术文档-语法">
    <meta name="keywords" content="vuepress,最新技术文档,vuepress语法,markdown语法">
    
    <link rel="preload" href="/web-mysql/assets/css/0.styles.167429db.css" as="style"><link rel="preload" href="/web-mysql/assets/js/app.1ba1e4b6.js" as="script"><link rel="preload" href="/web-mysql/assets/js/2.d11cc6e9.js" as="script"><link rel="preload" href="/web-mysql/assets/js/26.69af7563.js" as="script"><link rel="preload" href="/web-mysql/assets/js/3.89b3869f.js" as="script"><link rel="prefetch" href="/web-mysql/assets/js/10.9a8d76d4.js"><link rel="prefetch" href="/web-mysql/assets/js/11.41cc5443.js"><link rel="prefetch" href="/web-mysql/assets/js/12.98092ab3.js"><link rel="prefetch" href="/web-mysql/assets/js/13.9e59358c.js"><link rel="prefetch" href="/web-mysql/assets/js/14.f772891f.js"><link rel="prefetch" href="/web-mysql/assets/js/15.c8b2487e.js"><link rel="prefetch" href="/web-mysql/assets/js/16.7e893bb7.js"><link rel="prefetch" href="/web-mysql/assets/js/17.68b9e69e.js"><link rel="prefetch" href="/web-mysql/assets/js/18.4396c166.js"><link rel="prefetch" href="/web-mysql/assets/js/19.696541cc.js"><link rel="prefetch" href="/web-mysql/assets/js/20.d459ccd1.js"><link rel="prefetch" href="/web-mysql/assets/js/21.c6dbfcef.js"><link rel="prefetch" href="/web-mysql/assets/js/22.33970fe2.js"><link rel="prefetch" href="/web-mysql/assets/js/23.f98358da.js"><link rel="prefetch" href="/web-mysql/assets/js/24.04888426.js"><link rel="prefetch" href="/web-mysql/assets/js/25.35b33cb4.js"><link rel="prefetch" href="/web-mysql/assets/js/27.79d2926c.js"><link rel="prefetch" href="/web-mysql/assets/js/28.11bab7b2.js"><link rel="prefetch" href="/web-mysql/assets/js/29.0321283f.js"><link rel="prefetch" href="/web-mysql/assets/js/30.16760cd9.js"><link rel="prefetch" href="/web-mysql/assets/js/31.a5491c81.js"><link rel="prefetch" href="/web-mysql/assets/js/32.454e77e3.js"><link rel="prefetch" href="/web-mysql/assets/js/33.2c649438.js"><link rel="prefetch" href="/web-mysql/assets/js/34.0f6017d6.js"><link rel="prefetch" href="/web-mysql/assets/js/35.29455e52.js"><link rel="prefetch" href="/web-mysql/assets/js/36.22073b04.js"><link rel="prefetch" href="/web-mysql/assets/js/37.292e0c3d.js"><link rel="prefetch" href="/web-mysql/assets/js/38.b56af6a7.js"><link rel="prefetch" href="/web-mysql/assets/js/39.e813b6f8.js"><link rel="prefetch" href="/web-mysql/assets/js/4.76a947f2.js"><link rel="prefetch" href="/web-mysql/assets/js/40.4f411e6a.js"><link rel="prefetch" href="/web-mysql/assets/js/41.abe62eab.js"><link rel="prefetch" href="/web-mysql/assets/js/42.5fb6c929.js"><link rel="prefetch" href="/web-mysql/assets/js/43.f4c4398a.js"><link rel="prefetch" href="/web-mysql/assets/js/44.4c732569.js"><link rel="prefetch" href="/web-mysql/assets/js/45.e597f998.js"><link rel="prefetch" href="/web-mysql/assets/js/46.a60c2523.js"><link rel="prefetch" href="/web-mysql/assets/js/47.073a0f78.js"><link rel="prefetch" href="/web-mysql/assets/js/48.349f88a5.js"><link rel="prefetch" href="/web-mysql/assets/js/49.f102d0b3.js"><link rel="prefetch" href="/web-mysql/assets/js/5.75511cf3.js"><link rel="prefetch" href="/web-mysql/assets/js/50.f22812f3.js"><link rel="prefetch" href="/web-mysql/assets/js/51.e3de8960.js"><link rel="prefetch" href="/web-mysql/assets/js/52.d443367c.js"><link rel="prefetch" href="/web-mysql/assets/js/53.f33478fb.js"><link rel="prefetch" href="/web-mysql/assets/js/6.ffb4790f.js"><link rel="prefetch" href="/web-mysql/assets/js/7.2806174f.js"><link rel="prefetch" href="/web-mysql/assets/js/8.71de0676.js"><link rel="prefetch" href="/web-mysql/assets/js/9.e96832f0.js">
    <link rel="stylesheet" href="/web-mysql/assets/css/0.styles.167429db.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/web-mysql/" class="home-link router-link-active"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="基础知识" class="dropdown-title"><span class="title">基础知识</span> <span class="arrow down"></span></button> <button type="button" aria-label="基础知识" class="mobile-dropdown-title"><span class="title">基础知识</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web-mysql/base/build/1.config.html" class="nav-link">
    1.mysql实践指南
  </a></li><li class="dropdown-item"><!----> <a href="/web-mysql/base/practice/1.mysql.html" class="nav-link">
    2.mysql相关实践
  </a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目实战" class="dropdown-title"><span class="title">项目实战</span> <span class="arrow down"></span></button> <button type="button" aria-label="项目实战" class="mobile-dropdown-title"><span class="title">项目实战</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web-mysql/senior/use/1.recursionAndDynamics.html" class="nav-link">
    1.初级项目
  </a></li><li class="dropdown-item"><!----> <a href="/web-mysql/senior/typeScript/1.index.html" class="nav-link">
    2.高级项目
  </a></li></ul></div></div> <a href="https://github.com/zhoubichuan/web-mysql" target="_blank" rel="noopener noreferrer" class="repo-link">
      查看源码
      <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="基础知识" class="dropdown-title"><span class="title">基础知识</span> <span class="arrow down"></span></button> <button type="button" aria-label="基础知识" class="mobile-dropdown-title"><span class="title">基础知识</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web-mysql/base/build/1.config.html" class="nav-link">
    1.mysql实践指南
  </a></li><li class="dropdown-item"><!----> <a href="/web-mysql/base/practice/1.mysql.html" class="nav-link">
    2.mysql相关实践
  </a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目实战" class="dropdown-title"><span class="title">项目实战</span> <span class="arrow down"></span></button> <button type="button" aria-label="项目实战" class="mobile-dropdown-title"><span class="title">项目实战</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web-mysql/senior/use/1.recursionAndDynamics.html" class="nav-link">
    1.初级项目
  </a></li><li class="dropdown-item"><!----> <a href="/web-mysql/senior/typeScript/1.index.html" class="nav-link">
    2.高级项目
  </a></li></ul></div></div> <a href="https://github.com/zhoubichuan/web-mysql" target="_blank" rel="noopener noreferrer" class="repo-link">
      查看源码
      <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/web-mysql/base/practice/1.mysql.html" class="sidebar-link">Navicat</a></li><li><a href="/web-mysql/base/practice/2.Jenkins.html" class="sidebar-link">SQLyog</a></li><li><a href="/web-mysql/base/practice/3.gitlab.html" class="sidebar-link">安装</a></li><li><a href="/web-mysql/base/practice/vscode.html" class="sidebar-link">/base/practice/vscode.html</a></li><li><a href="/web-mysql/base/practice/test.html" class="sidebar-link">/base/practice/test.html</a></li><li><a href="/web-mysql/base/practice/prem.html" class="sidebar-link">/base/practice/prem.html</a></li><li><a href="/web-mysql/base/practice/i18n.html" aria-current="page" class="active sidebar-link">字符函数</a><ul class="sidebar-sub-headers"></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="字符函数"><a href="#字符函数" class="header-anchor">#</a> 字符函数</h1> <ul><li><p>字符串处理
SELECT name,CONCAT(UPPER(SUBSTR(name,1,1)),LOWER(SUBSTR(name,2))) FROM student</p></li> <li><p>去掉空格
SELECT TRIM(' ASDF')
SELECT LTRIM(' ZASDF ')
SELECT RTRIM(' SADF ')
SELECT TRIM('@' FROM '@@ZPPX@@')</p></li> <li><p>补齐多少位
SELECT LPAD('ZASDF',10,'@')
SELECT LPAD('1',8,'0')
SELECT RPAD('1',8,'0')</p></li> <li><p>替换字符串
SELECT REPLACE('zf','f','F')</p></li> <li><p>FORMAT 格式化
SELECT FORMAT(10000,2)
SELECT FORMAT(888.456.3)</p></li> <li><p>取左右多少位
SELECT LEFT('asdfasdf',5)
SELECT RIGHT('ASDFAS',4)</p></li></ul> <h3 id="数学函数"><a href="#数学函数" class="header-anchor">#</a> 数学函数</h3> <ul><li>取整
SELECT CEIL(10.99)
SELECT FLOOR(10.1234)</li> <li>取模
SELECT MOD(10.4)</li> <li>约等于
SELECT ROUND(10.3)</li> <li>保留小数
SELECT TRUNCATE(10.88,1)</li></ul> <h3 id="日期函数"><a href="#日期函数" class="header-anchor">#</a> 日期函数</h3> <ul><li><p>当前时间
SELECT NOW()</p></li> <li><p>日期
SELECT CURDATE()
SELECT CURTIME()</p></li> <li><p>年
SELECT YEAR(NOW())
SELECT MONTH(NOW())
SELECT DAY(NOW())
SELECT HOUR(NOW())
SELECT MINUTE(NOW())
SELECT SECOND(NOW())</p></li></ul> <h3 id="把字符串转成日期"><a href="#把字符串转成日期" class="header-anchor">#</a> 把字符串转成日期</h3> <p>SELECT STR_TO_DATE('2018-09-09','%Y-%m-%d')
SELECT DATE_FORMAT(NOW(),'%Y 年%m 月%d 日')</p> <ul><li>加日月年
SELECT DATE_ADD(NOW(),INTERVAL 1 DAY)
SELECT DATE_ADD(NOW(),INTERVAL 1 MONTH)
SELECT DATE_ADD(NOW(),INTERVAL 1 YEAR)</li> <li>和现在相差多少天
SELECT DATEDIFF('2018-09-08',NOW())</li></ul> <h3 id="其他函数"><a href="#其他函数" class="header-anchor">#</a> 其他函数</h3> <ul><li>取得连接 id
SELECT CONNECTION_ID()</li> <li>查看当前数据库
SELECT DATABASE()</li> <li>查询当前数据库版本
SELECT VERSION()</li></ul> <ul><li>查询当前用户
SELECT USER()</li> <li>md5 加密
SELECT MD5('123')</li></ul> <p>SELECT * FROM mysql.user
SELECT PASSWORD('zfpx')</p> <h3 id="流程控制函数"><a href="#流程控制函数" class="header-anchor">#</a> 流程控制函数</h3> <ul><li>类似三元表达式
SELECT IF(1&gt;0,'A','B')</li></ul> <h3 id="case-函数"><a href="#case-函数" class="header-anchor">#</a> case 函数</h3> <p>SELECT * FROM score
SELECT
CASE
WHEN grade &gt;= 60 then '及格'
WHEN grade &lt; 60 then '不及格'
ELSE '未知'
END
FROM score;</p> <p>SELECT level
CASE 'A' then '优秀'
CASE 'B' then '较好'
ELSE '差'
END
FROM score;</p> <h3 id="小写变大写"><a href="#小写变大写" class="header-anchor">#</a> 小写变大写</h3> <p>SELECT * FROM student;
UPDATE student SET email = UPPER(email) WHERE id = 1;</p> <h3 id="升序降序排序"><a href="#升序降序排序" class="header-anchor">#</a> 升序降序排序</h3> <h3 id="查询年龄超过-18-岁的男同学"><a href="#查询年龄超过-18-岁的男同学" class="header-anchor">#</a> 查询年龄超过 18 岁的男同学</h3> <p>SELECT * FROM student WHERE gender _ '男' AND YEAR(NOW()) - YEAR(birthday)&gt;18</p> <h3 id="查询生日月份是-9-月份的山东省的同学"><a href="#查询生日月份是-9-月份的山东省的同学" class="header-anchor">#</a> 查询生日月份是 9 月份的山东省的同学</h3> <p>SELECT * FROM student WHERE MONTH(birthday) =9 AND province =&quot;山东省&quot;</p> <h3 id="查询今天过生日的同学"><a href="#查询今天过生日的同学" class="header-anchor">#</a> 查询今天过生日的同学</h3> <p>SELECT * FROM student WHERE DAY(birthday) = DAY(NOW()) AND MONTH(birthday)=MONTH(NOW())</p> <h3 id="查询-id-为-3-的同学的域名"><a href="#查询-id-为-3-的同学的域名" class="header-anchor">#</a> 查询 id 为 3 的同学的域名</h3> <p>SELECT name, SUBSTR(email,INSTR(email,'@')+1) FORM student WHERE id=3</p> <h3 id="自定义函数"><a href="#自定义函数" class="header-anchor">#</a> 自定义函数</h3> <ul><li>自定义函数是对 mysql 的扩展，使用方式和内置函数相同</li> <li>语法
<ul><li>CREATE FUNCTION ZNOW() RETURNS VARCHAR(20)
RETUNR DATE_FORMAT(NOW(),'%年-%月-%日 %时-%分-%秒')；
SELECT ZNOW();
<ul><li>CRATE FUNCTION ZADD(num1 INT,num2 INT) RETURNS INT
RETURN num1+num2
SELECT ZADD(2,3)</li> <li>CREATE TABLE stu2(id int PRIMARY KEY AUTO_INCREMENT,name VARCHAR(50))
SELECT * FROM stu2;</li> <li>CREATE FUNCTION addUser(name VARCHAR(50)) RETURNS INT
BEGIN
INSERT INTO stu2 (name) VALUES(name);
RETURN LAST_INSERT_ID();
END
SELECT addUser('zasdf')</li></ul></li></ul></li> <li>模糊查询
<ul><li>SELECT * FROM stu2 WHERE name LIKE '%'</li> <li>SELECT * FROM score WHERE grade BETWEEN 60 AND 100;</li> <li>SLEECT * FORM score WHERE grade &gt;=60 AND grade &lt;=100</li></ul></li> <li>查询某一列中的值在列出的内容列表中
<ul><li>SELECT * FROM student WHERE city in ('北京','上海')</li> <li>SELECT * FROM student WHERE city = ()</li></ul></li></ul> <h3 id="聚合"><a href="#聚合" class="header-anchor">#</a> 聚合</h3> <ul><li>对一组值进行计算，并返回计算后的值，一般用来统计数据</li> <li>SELECT SUM(grade) FROM score WHERE student_id =1;</li></ul> <p>SELECT * FROM score WHERE student_id=1
SELECT COUNT(grande) FROM score WHERE student_id=1</p> <p>-- 如果分组的话 SELECT 后面只能跟分组的聚合函数
SELECT student_id,SUM(grade) FROM score
GROUP BY student_id</p> <ul><li>SELECT 列名</li> <li></li></ul> <h3 id="为何设计数据库"><a href="#为何设计数据库" class="header-anchor">#</a> 为何设计数据库</h3> <ul><li><p>糟糕的数据库设计</p> <ul><li>数据冗余，存储空间浪费</li> <li>内存空间浪费</li> <li>数据和更新插入异常</li></ul></li> <li><p>2.软件项目开发周期中的数据库设计</p> <ul><li><p>需求分析阶段；分析客户的业务和数据处理需求</p></li> <li><p>概要设计阶段；设计数据库的 E-R 模型图，确认炫耀的正确和完整性</p></li> <li><p>详细设计阶段</p></li> <li><p>代码编写阶段</p></li> <li><p>软件测试阶段</p></li> <li><p>安装部署</p></li> <li><p>现实世界--&gt;</p></li></ul></li> <li><p>3.设计数据库的步骤</p></li></ul> <h3 id="数据库设计的三大范式"><a href="#数据库设计的三大范式" class="header-anchor">#</a> 数据库设计的三大范式</h3> <ul><li>1.确保每列的原子性</li> <li>2.每个表只描述一件事情</li> <li>3.其他列都不传递</li> <li>RBAC
<ul><li>基于角色的权限控制</li> <li>RBAC ，就是用户通过角色与权限进行关联</li> <li>简单的说，一个用户拥有若干个角色，每一个角色拥有若干权限，这样，就构成用户-角色-权限-资源的授权模型</li> <li>在这种模型总，用户与角色之间，角色与权限之间，权限与资源之间一般是多对多的关系</li> <li>在 RBAC 中最重要的概念：用户，角色，权限，资源</li></ul></li> <li>安全原则
<ul><li>最小权限原则之所以被 RBAC 所支持，是因为 RBAC 可以将</li></ul></li></ul> <h3 id="mysql-基本命令"><a href="#mysql-基本命令" class="header-anchor">#</a> mysql 基本命令</h3> <ul><li>mysql 启动</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>net start MySQL
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>mysql 停止</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>net stop MySQL
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>连接 MySQL</li></ul> <div class="language-' line-numbers-mode"><pre class="language-text"><code>mysql -h 127.0.0.1 -P 3306 -uroot -p123456
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>断开连接</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>exit
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>切换数据库</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>use test;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>显示有哪些表</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>show tables
show tables from mysql
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>显示当前数据库</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>select database();
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>查询表结构</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>DESC user;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>创建表</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>CREATE TABLE 'student'
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/zhoubichuan/web-mysql/edit/master/src/base/practice/i18n.md" target="_blank" rel="noopener noreferrer">在github上编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2022/7/6 16:43:12</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/web-mysql/base/practice/prem.html" class="prev">
          /base/practice/prem.html
        </a></span> <!----></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/web-mysql/assets/js/app.1ba1e4b6.js" defer></script><script src="/web-mysql/assets/js/2.d11cc6e9.js" defer></script><script src="/web-mysql/assets/js/26.69af7563.js" defer></script><script src="/web-mysql/assets/js/3.89b3869f.js" defer></script>
  </body>
</html>
